(function(M){var e=M.Markdown=function(T){switch(typeof T){case"undefined":this.dialect=e.dialects.Gruber;break;case"object":this.dialect=T;break;default:if(T in e.dialects){this.dialect=e.dialects[T]}else{throw new Error("Unknown Markdown dialect '"+String(T)+"'")}break}this.em_state=[];this.strong_state=[];this.debug_indent=""};M.parse=function(V,T){var U=new e(T);return U.toTree(V)};M.toHTML=function v(W,V,U){var T=M.toHTMLTree(W,V,U);return M.renderJsonML(T)};M.toHTMLTree=function y(U,Y,W){if(typeof U==="string"){U=this.parse(U,Y)}var V=E(U),T={};if(V&&V.references){T=V.references}var X=i(U,T,W);q(X);return X};function f(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function J(){var T=require("util");return"Markdown.mk_block( "+T.inspect(this.toString())+", "+T.inspect(this.trailing)+", "+T.inspect(this.lineNumber)+" )"}var g=e.mk_block=function(W,U,T){if(arguments.length==1){U="\n\n"}var V=new String(W);V.trailing=U;V.inspect=J;V.toSource=f;if(T!=undefined){V.lineNumber=T}return V};function I(U){var V=0,T=-1;while((T=U.indexOf("\n",T+1))!==-1){V++}return V}e.prototype.split_blocks=function B(V,Y){V=V.replace(/(\r\n|\n|\r)/g,"\n");var W=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,X=[],T;var U=1;if((T=/^(\s*\n)/.exec(V))!=null){U+=I(T[0]);W.lastIndex=T[0].length}while((T=W.exec(V))!==null){if(T[2]=="\n#"){T[2]="\n";W.lastIndex--}X.push(g(T[1],T[2],U));U+=I(T[0])}return X};e.prototype.processBlock=function O(Y,X){var U=this.dialect.block,T=U.__order__;if("__call__" in U){return U.__call__.call(this,Y,X)}for(var W=0;W<T.length;W++){var V=U[T[W]].call(this,Y,X);if(V){if(!C(V)||(V.length>0&&!(C(V[0])))){this.debug(T[W],"didn't return a proper array")}return V}}return[]};e.prototype.processInline=function h(T){return this.dialect.inline.__call__.call(this,String(T))};e.prototype.toTree=function K(V,U){var W=V instanceof Array?V:this.split_blocks(V);var X=this.tree;try{this.tree=U||this.tree||["markdown"];W:while(W.length){var T=this.processBlock(W.shift(),W);if(!T.length){continue W}this.tree.push.apply(this.tree,T)}return this.tree}finally{if(U){this.tree=X}}};e.prototype.debug=function(){var T=Array.prototype.slice.call(arguments);T.unshift(this.debug_indent);if(typeof print!=="undefined"){print.apply(print,T)}if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log.apply(null,T)}};e.prototype.loop_re_over_block=function(W,X,V){var U,T=X.valueOf();while(T.length&&(U=W.exec(T))!=null){T=T.substr(U[0].length);V.call(this,U)}return T};e.dialects={};e.dialects.Gruber={block:{atxHeader:function s(V,U){var T=V.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!T){return undefined}var W=["header",{level:T[1].length}];Array.prototype.push.apply(W,this.processInline(T[2]));if(T[0].length<V.length){U.unshift(g(V.substr(T[0].length),V.trailing,V.lineNumber+2))}return[W]},setextHeader:function z(V,U){var T=V.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!T){return undefined}var X=(T[2]==="=")?1:2;var W=["header",{level:X},T[1]];if(T[0].length<V.length){U.unshift(g(V.substr(T[0].length),V.trailing,V.lineNumber+2))}return[W]},code:function l(Y,X){var V=[],W=/^(?: {0,3}\t| {4})(.*)\n?/,U;if(!Y.match(W)){return undefined}block_search:do{var T=this.loop_re_over_block(W,Y.valueOf(),function(Z){V.push(Z[1])});if(T.length){X.unshift(g(T,Y.trailing));break block_search}else{if(X.length){if(!X[0].match(W)){break block_search}V.push(Y.trailing.replace(/[^\n]/g,"").substring(2));Y=X.shift()}else{break block_search}}}while(true);return[["code_block",V.join("\n")]]},horizRule:function R(V,U){var T=V.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!T){return undefined}var W=[["hr"]];if(T[1]){W.unshift.apply(W,this.processBlock(T[1],[]))}if(T[3]){U.unshift(g(T[3]))}return W},lists:(function(){var W="[*+-]|\\d+\\.",U=/[*+-]/,ac=/\d+\./,aa=new RegExp("^( {0,3})("+W+")[ \t]+"),V="(?: {0,3}\\t| {4})";function X(ad){return new RegExp("(?:^("+V+"{0,"+ad+"} {0,3})("+W+")\\s+)|(^"+V+"{0,"+(ad-1)+"}[ ]{0,4})")}function T(ad){return ad.replace(/ {0,3}\t/g,"    ")}function ab(ae,ak,aj,af){if(ak){ae.push(["para"].concat(aj));return}var ad=ae[ae.length-1] instanceof Array&&ae[ae.length-1][0]=="para"?ae[ae.length-1]:ae;if(af&&ae.length>1){aj.unshift(af)}for(var ah=0;ah<aj.length;ah++){var ai=aj[ah],ag=typeof ai=="string";if(ag&&ad.length>1&&typeof ad[ad.length-1]=="string"){ad[ad.length-1]+=ai}else{ad.push(ai)}}}function Y(aj,ai){var ah=new RegExp("^("+V+"{"+aj+"}.*?\\n?)*$"),ag=new RegExp("^"+V+"{"+aj+"}","gm"),af=[];while(ai.length>0){if(ah.exec(ai[0])){var ae=ai.shift(),ad=ae.replace(ag,"");af.push(g(ad,ae.trailing,ae.lineNumber))}else{break}}return af}function Z(ag,af,ad){var ai=ag.list;var ah=ai[ai.length-1];if(ah[1] instanceof Array&&ah[1][0]=="para"){return}if(af+1==ad.length){ah.push(["para"].concat(ah.splice(1,ah.length-1)))}else{var ae=ah.pop();ah.push(["para"].concat(ah.splice(1,ah.length-1)),ae)}}return function(ai,ao){var ap=ai.match(aa);if(!ap){return undefined}function ag(az){var aA=U.exec(az[2])?["bulletlist"]:["numberlist"];ah.push({list:aA,indent:az[1]});return aA}var ah=[],au=ag(ap),af,an=false,ay=[ah[0].list],ar;loose_search:while(true){var ad=ai.split(/(?=\n)/);var av="";tight_search:for(var aw=0;aw<ad.length;aw++){var ae="",aq=ad[aw].replace(/^\n/,function(az){ae=az;return""});var al=X(ah.length);ap=aq.match(al);if(ap[1]!==undefined){if(av.length){ab(af,an,this.processInline(av),ae);an=false;av=""}ap[1]=T(ap[1]);var aj=Math.floor(ap[1].length/4)+1;if(aj>ah.length){au=ag(ap);af.push(au);af=au[1]=["listitem"]}else{var am=false;for(ar=0;ar<ah.length;ar++){if(ah[ar].indent!=ap[1]){continue}au=ah[ar].list;ah.splice(ar+1,ah.length-(ar+1));am=true;break}if(!am){aj++;if(aj<=ah.length){ah.splice(aj,ah.length-aj);au=ah[aj-1].list}else{au=ag(ap);af.push(au)}}af=["listitem"];au.push(af)}ae=""}if(aq.length>ap[0].length){av+=ae+aq.substr(ap[0].length)}}if(av.length){ab(af,an,this.processInline(av),ae);an=false;av=""}var at=Y(ah.length,ao);if(at.length>0){c(ah,Z,this);af.push.apply(af,this.toTree(at,[]))}var ak=ao[0]&&ao[0].valueOf()||"";if(ak.match(aa)||ak.match(/^ /)){ai=ao.shift();var ax=this.dialect.block.horizRule(ai,ao);if(ax){ay.push.apply(ay,ax);break}c(ah,Z,this);an=true;continue loose_search}break}return ay}})(),blockquote:function N(W,X){if(!W.match(/^>/m)){return undefined}var ad=[];if(W[0]!=">"){var ae=W.split(/\n/),U=[],Y=W.lineNumber;while(ae.length&&ae[0][0]!=">"){U.push(ae.shift());Y++}var V=g(U.join("\n"),"\n",W.lineNumber);ad.push.apply(ad,this.processBlock(V,[]));W=g(ae.join("\n"),W.trailing,Y)}while(X.length&&X[0][0]==">"){var aa=X.shift();W=g(W+W.trailing+aa,aa.trailing,W.lineNumber)}var ab=W.replace(/^> ?/gm,""),T=this.tree,ac=this.toTree(ab,["blockquote"]),Z=E(ac);if(Z&&Z.references){delete Z.references;if(u(Z)){ac.splice(1,1)}}ad.push(ac);return ad},referenceDefn:function L(X,W){var V=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!X.match(V)){return undefined}if(!E(this.tree)){this.tree.splice(1,0,{})}var U=E(this.tree);if(U.references===undefined){U.references={}}var T=this.loop_re_over_block(V,X,function(Y){if(Y[2]&&Y[2][0]=="<"&&Y[2][Y[2].length-1]==">"){Y[2]=Y[2].substring(1,Y[2].length-1)}var Z=U.references[Y[1].toLowerCase()]={href:Y[2]};if(Y[4]!==undefined){Z.title=Y[4]}else{if(Y[5]!==undefined){Z.title=Y[5]}}});if(T.length){W.unshift(g(T,X.trailing))}return[]},para:function F(U,T){return[["para"].concat(this.processInline(U))]}}};e.dialects.Gruber.inline={__oneElement__:function d(Y,U,X){var T,V,Z=0;U=U||this.dialect.inline.__patterns__;var W=new RegExp("([\\s\\S]*?)("+(U.source||U)+")");T=W.exec(Y);if(!T){return[Y.length,Y]}else{if(T[1]){return[T[1].length,T[1]]}}var V;if(T[2] in this.dialect.inline){V=this.dialect.inline[T[2]].call(this,Y.substr(T.index),T,X||[])}V=V||[T[2].length,T[2]];return V},__call__:function r(X,V){var T=[],U;function W(Y){if(typeof Y=="string"&&typeof T[T.length-1]=="string"){T[T.length-1]+=Y}else{T.push(Y)}}while(X.length>0){U=this.dialect.inline.__oneElement__.call(this,X,V,T);X=X.substr(U.shift());c(U,W)}return T},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function t(T){if(this.dialect.inline.__escape__.exec(T)){return[2,T.charAt(1)]}else{return[1,"\\"]}},"![":function m(V){var T=V.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(T){if(T[2]&&T[2][0]=="<"&&T[2][T[2].length-1]==">"){T[2]=T[2].substring(1,T[2].length-1)}T[2]=this.dialect.inline.__call__.call(this,T[2],/\\/)[0];var U={alt:T[1],href:T[2]||""};if(T[4]!==undefined){U.title=T[4]}return[T[0].length,["img",U]]}T=V.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/);if(T){return[T[0].length,["img_ref",{alt:T[1],ref:T[2].toLowerCase(),original:T[0]}]]}return[2,"!["]},"[":function n(ad){var aa=String(ad);var Y=e.DialectHelpers.inline_until_char.call(this,ad.substr(1),"]");if(!Y){return[1,"["]}var ab=1+Y[0],U=Y[1],Z,ac;ad=ad.substr(ab);var W=ad.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(W){var T=W[1];ab+=W[0].length;if(T&&T[0]=="<"&&T[T.length-1]==">"){T=T.substring(1,T.length-1)}if(!W[3]){var V=1;for(var X=0;X<T.length;X++){switch(T[X]){case"(":V++;break;case")":if(--V==0){ab-=T.length-X;T=T.substring(0,X)}break}}}T=this.dialect.inline.__call__.call(this,T,/\\/)[0];ac={href:T||""};if(W[3]!==undefined){ac.title=W[3]}Z=["link",ac].concat(U);return[ab,Z]}W=ad.match(/^\s*\[(.*?)\]/);if(W){ab+=W[0].length;ac={ref:(W[1]||String(U)).toLowerCase(),original:aa.substr(0,ab)};Z=["link_ref",ac].concat(U);return[ab,Z]}if(U.length==1&&typeof U[0]=="string"){ac={ref:U[0].toLowerCase(),original:aa.substr(0,ab)};Z=["link_ref",ac,U[0]];return[ab,Z]}return[1,"["]},"<":function w(U){var T;if((T=U.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null){if(T[3]){return[T[0].length,["link",{href:"mailto:"+T[3]},T[3]]]}else{if(T[2]=="mailto"){return[T[0].length,["link",{href:T[1]},T[1].substr("mailto:".length)]]}else{return[T[0].length,["link",{href:T[1]},T[1]]]}}}return[1,"<"]},"`":function A(U){var T=U.match(/(`+)(([\s\S]*?)\1)/);if(T&&T[2]){return[T[1].length+T[2].length,["inlinecode",T[3]]]}else{return[1,"`"]}},"  \n":function Q(T){return[3,["linebreak"]]}};function H(T,W){var V=T+"_state",X=T=="strong"?"em_state":"strong_state";function U(Y){this.len_after=Y;this.name="close_"+W}return function(af,ae){if(this[V][0]==W){this[V].shift();return[af.length,new U(af.length-W.length)]}else{var Y=this[X].slice(),ad=this[V].slice();this[V].unshift(W);var aa=this.processInline(af.substr(W.length));var ab=aa[aa.length-1];var Z=this[V].shift();if(ab instanceof U){aa.pop();var ac=af.length-ab.len_after;return[ac,[T].concat(aa)]}else{this[X]=Y;this[V]=ad;return[W.length,W]}}}}e.dialects.Gruber.inline["**"]=H("strong","**");e.dialects.Gruber.inline.__=H("strong","__");e.dialects.Gruber.inline["*"]=H("em","*");e.dialects.Gruber.inline._=H("em","_");e.buildBlockOrder=function(V){var T=[];for(var U in V){if(U=="__order__"||U=="__call__"){continue}T.push(U)}V.__order__=T};e.buildInlinePatterns=function(X){var W=[];for(var U in X){if(U.match(/^__.*__$/)){continue}var T=U.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");W.push(U.length==1?T:"(?:"+T+")")}W=W.join("|");X.__patterns__=W;var V=X.__call__;X.__call__=function(Z,Y){if(Y!=undefined){return V.call(this,Z,Y)}else{return V.call(this,Z,W)}}};e.DialectHelpers={};e.DialectHelpers.inline_until_char=function(X,W){var V=0,T=[];while(true){if(X.charAt(V)==W){V++;return[V,T]}if(V>=X.length){return null}var U=this.dialect.inline.__oneElement__.call(this,X.substr(V));V+=U[0];T.push.apply(T,U.slice(1))}};e.subclassDialect=function(V){function T(){}T.prototype=V.block;function U(){}U.prototype=V.inline;return{block:new T(),inline:new U()}};e.buildBlockOrder(e.dialects.Gruber.block);e.buildInlinePatterns(e.dialects.Gruber.inline);e.dialects.Maruku=e.subclassDialect(e.dialects.Gruber);e.dialects.Maruku.processMetaHash=function k(W){var X=o(W),T={};for(var U=0;U<X.length;++U){if(/^#/.test(X[U])){T.id=X[U].substring(1)}else{if(/^\./.test(X[U])){if(T["class"]){T["class"]=T["class"]+X[U].replace(/./," ")}else{T["class"]=X[U].substring(1)}}else{if(/\=/.test(X[U])){var V=X[U].split(/\=/);T[V[0]]=V[1]}}}}return T};function o(V){var X=V.split(""),W=[""],T=false;while(X.length){var U=X.shift();switch(U){case" ":if(T){W[W.length-1]+=U}else{W.push("")}break;case"'":case'"':T=!T;break;case"\\":U=X.shift();default:W[W.length-1]+=U;break}}return W}e.dialects.Maruku.block.document_meta=function j(Y,V){if(Y.lineNumber>1){return undefined}if(!Y.match(/^(?:\w+:.*\n)*\w+:.*$/)){return undefined}if(!E(this.tree)){this.tree.splice(1,0,{})}var X=Y.split(/\n/);for(p in X){var T=X[p].match(/(\w+):\s*(.*)$/),U=T[1].toLowerCase(),W=T[2];this.tree[1][U]=W}return[]};e.dialects.Maruku.block.block_meta=function G(aa,X){var W=aa.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!W){return undefined}var V=this.dialect.processMetaHash(W[2]);var Z;if(W[1]===""){var Y=this.tree[this.tree.length-1];Z=E(Y);if(typeof Y==="string"){return undefined}if(!Z){Z={};Y.splice(1,0,Z)}for(a in V){Z[a]=V[a]}return[]}var U=aa.replace(/\n.*$/,""),T=this.processBlock(U,[]);Z=E(T[0]);if(!Z){Z={};T[0].splice(1,0,Z)}for(a in V){Z[a]=V[a]}return T};e.dialects.Maruku.block.definition_list=function P(V,Y){var aa=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,Z=["dl"],X,U;if((U=V.match(aa))){var T=[V];while(Y.length&&aa.exec(Y[0])){T.push(Y.shift())}for(var ab=0;ab<T.length;++ab){var U=T[ab].match(aa),W=U[1].replace(/\n$/,"").split(/\n/),ac=U[2].split(/\n:\s+/);for(X=0;X<W.length;++X){Z.push(["dt",W[X]])}for(X=0;X<ac.length;++X){Z.push(["dd"].concat(this.processInline(ac[X].replace(/(\n)\s+/,"$1"))))}}}else{return undefined}return[Z]};e.dialects.Maruku.block.table=function x(V,X){var Y=function(af,ae){ae=ae||"\\s";if(ae.match(/^[\\|\[\]{}?*.+^$]$/)){ae="\\"+ae}var ad=[],ag=new RegExp("^((?:\\\\.|[^\\\\"+ae+"])*)"+ae+"(.*)"),ac;while(ac=af.match(ag)){ad.push(ac[1]);af=ac[2]}ad.push(af);return ad};var Z=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,T=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/,W,U;if(U=V.match(Z)){U[3]=U[3].replace(/^\s*\|/gm,"")}else{if(!(U=V.match(T))){return undefined}}var aa=["table",["thead",["tr"]],["tbody"]];U[2]=U[2].replace(/\|\s*$/,"").split("|");var ab=[];c(U[2],function(ac){if(ac.match(/^\s*-+:\s*$/)){ab.push({align:"right"})}else{if(ac.match(/^\s*:-+\s*$/)){ab.push({align:"left"})}else{if(ac.match(/^\s*:-+:\s*$/)){ab.push({align:"center"})}else{ab.push({})}}}});U[1]=Y(U[1].replace(/\|\s*$/,""),"|");for(W=0;W<U[1].length;W++){aa[1][1].push(["th",ab[W]||{}].concat(this.processInline(U[1][W].trim())))}c(U[3].replace(/\|\s*$/mg,"").split("\n"),function(ad){var ac=["tr"];ad=Y(ad,"|");for(W=0;W<ad.length;W++){ac.push(["td",ab[W]||{}].concat(this.processInline(ad[W].trim())))}aa[2].push(ac)},this);return[aa]};e.dialects.Maruku.inline["{:"]=function D(aa,Y,W){if(!W.length){return[2,"{:"]}var X=W[W.length-1];if(typeof X==="string"){return[2,"{:"]}var U=aa.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!U){return[2,"{:"]}var Z=this.dialect.processMetaHash(U[1]),T=E(X);if(!T){T={};X.splice(1,0,T)}for(var V in Z){T[V]=Z[V]}return[U[0].length,""]};e.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/;e.buildBlockOrder(e.dialects.Maruku.block);e.buildInlinePatterns(e.dialects.Maruku.inline);var C=Array.isArray||function(T){return Object.prototype.toString.call(T)=="[object Array]"};var c;if(Array.prototype.forEach){c=function(U,T,V){return U.forEach(T,V)}}else{c=function(U,T,W){for(var V=0;V<U.length;V++){T.call(W||U,U[V],V,U)}}}var u=function(U){for(var T in U){if(hasOwnProperty.call(U,T)){return false}}return true};function E(T){return C(T)&&T.length>1&&typeof T[1]==="object"&&!(C(T[1]))?T[1]:undefined}M.renderJsonML=function(V,T){T=T||{};T.root=T.root||false;var U=[];if(T.root){U.push(S(V))}else{V.shift();if(V.length&&typeof V[0]==="object"&&!(V[0] instanceof Array)){V.shift()}while(V.length){U.push(S(V.shift()))}}return U.join("\n\n")};function b(T){return T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function S(Y){if(typeof Y==="string"){return b(Y)}var T=Y.shift(),V={},W=[];if(Y.length&&typeof Y[0]==="object"&&!(Y[0] instanceof Array)){V=Y.shift()}while(Y.length){W.push(S(Y.shift()))}var X="";for(var U in V){X+=" "+U+'="'+b(V[U])+'"'}if(T=="img"||T=="br"||T=="hr"){return"<"+T+X+"/>"}else{return"<"+T+X+">"+W.join("")+"</"+T+">"}}function i(ab,Y,aa){var V;aa=aa||{};var X=ab.slice(0);if(typeof aa.preprocessTreeNode==="function"){X=aa.preprocessTreeNode(X,Y)}var Z=E(X);if(Z){X[1]={};for(V in Z){X[1][V]=Z[V]}Z=X[1]}if(typeof X==="string"){return X}switch(X[0]){case"header":X[0]="h"+X[1].level;delete X[1].level;break;case"bulletlist":X[0]="ul";break;case"numberlist":X[0]="ol";break;case"listitem":X[0]="li";break;case"para":X[0]="p";break;case"markdown":X[0]="html";if(Z){delete Z.references}break;case"code_block":X[0]="pre";V=Z?2:1;var T=["code"];T.push.apply(T,X.splice(V,X.length-V));X[V]=T;break;case"inlinecode":X[0]="code";break;case"img":X[1].src=X[1].href;delete X[1].href;break;case"linebreak":X[0]="br";break;case"link":X[0]="a";break;case"link_ref":X[0]="a";var U=Y[Z.ref];if(U){delete Z.ref;Z.href=U.href;if(U.title){Z.title=U.title}delete Z.original}else{return Z.original}break;case"img_ref":X[0]="img";var U=Y[Z.ref];if(U){delete Z.ref;Z.src=U.href;if(U.title){Z.title=U.title}delete Z.original}else{return Z.original}break}V=1;if(Z){for(var W in X[1]){V=2;break}if(V===1){X.splice(V,1)}}for(;V<X.length;++V){X[V]=i(X[V],Y,aa)}return X}function q(U){var T=E(U)?2:1;while(T<U.length){if(typeof U[T]==="string"){if(T+1<U.length&&typeof U[T+1]==="string"){U[T]+=U.splice(T+1,1)[0]}else{++T}}else{q(U[T]);++T}}}})((function(){if(typeof exports==="undefined"){window.markdown={};return window.markdown}else{return exports}})());